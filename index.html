<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>WinGo Signal</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:15px}
.container{max-width:900px;margin:0 auto}
.box{background:#fff;border-radius:15px;padding:20px;margin-bottom:15px;box-shadow:0 10px 30px rgba(0,0,0,.3)}
.header{text-align:center;font-size:28px;font-weight:800;color:#764ba2;margin-bottom:10px}
.subtitle{text-align:center;color:#666;font-size:12px;letter-spacing:2px}
.group-badge{display:inline-block;padding:8px 20px;border-radius:25px;font-weight:700;color:#fff;margin-top:10px}
.group-a{background:linear-gradient(135deg,#f093fb,#f5576c)}
.group-b{background:linear-gradient(135deg,#4facfe,#00f2fe)}
.pred-box{text-align:center}
.pred-title{color:#764ba2;font-size:14px;font-weight:700;margin-bottom:15px}
.pred-result{font-size:60px;font-weight:900;margin:15px 0}
.pred-big{color:#f5576c}
.pred-small{color:#00f2fe}
.conf-badge{display:inline-block;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:10px 25px;border-radius:25px;font-weight:700;font-size:13px;margin:5px}
.info{background:rgba(102,126,234,.1);border-radius:10px;padding:15px;margin-top:10px;font-size:13px;color:#764ba2;font-weight:600}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:15px}
.stat{background:#fff;border-radius:10px;padding:15px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,.2)}
.stat-label{font-size:11px;color:#888;margin-bottom:5px}
.stat-value{font-size:24px;font-weight:900;color:#764ba2}
table{width:100%;border-collapse:collapse;background:#fff}
thead{background:linear-gradient(135deg,#667eea,#764ba2)}
th{padding:12px 8px;color:#fff;font-size:12px;font-weight:700}
td{padding:12px 8px;text-align:center;font-size:12px;border-bottom:1px solid #f0f0f0}
.num-cell{font-size:24px;font-weight:900}
.size-big{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff;padding:4px 12px;border-radius:15px;font-size:10px;font-weight:700}
.size-small{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;padding:4px 12px;border-radius:15px;font-size:10px;font-weight:700}
.current{background:rgba(255,215,0,.2);border-left:4px solid #ffd700}
.btn{position:fixed;bottom:20px;right:20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:15px 30px;border-radius:30px;font-size:14px;font-weight:700;cursor:pointer;box-shadow:0 5px 20px rgba(102,126,234,.5)}
.btn:active{transform:scale(.95)}
.time{text-align:center;padding:15px;background:rgba(255,255,255,.2);border-radius:10px;color:#fff;font-size:28px;font-weight:900;letter-spacing:2px}
.loading{text-align:center;padding:20px;color:#764ba2}
@media(max-width:768px){.header{font-size:24px}.pred-result{font-size:45px}.stats{grid-template-columns:repeat(2,1fr)}th,td{padding:10px 5px;font-size:11px}.num-cell{font-size:20px}}
</style>
</head>
<body>
<div class="container">

<div class="box">
<div class="header">‚ö° WINGO SIGNAL</div>
<div class="subtitle">A/B PATTERN SYSTEM</div>
<div style="text-align:center"><span id="groupBadge"></span></div>
</div>

<div class="box pred-box">
<div class="pred-title">üéØ ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶™‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ï‡¶∂‡¶®</div>
<div class="pred-result" id="predResult">...</div>
<div><span class="conf-badge" id="confBadge">...</span></div>
<div class="info" id="info">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
</div>

<div class="stats">
<div class="stat"><div class="stat-label">‡¶™‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶°</div><div class="stat-value" id="period">-</div></div>
<div class="stat"><div class="stat-label">‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</div><div class="stat-value" id="group">-</div></div>
<div class="stat"><div class="stat-label">‡¶∏‡ßç‡¶≤‡¶ü</div><div class="stat-value" id="slot">-</div></div>
<div class="stat"><div class="stat-label">‡¶≤‡¶∏</div><div class="stat-value" id="loss" style="color:#ff4757">0</div></div>
</div>

<div class="box">
<table>
<thead><tr><th>‡¶™‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶°</th><th>‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</th><th>‡¶∏‡ßç‡¶≤‡¶ü</th><th>‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞</th><th>‡¶∏‡¶æ‡¶á‡¶ú</th></tr></thead>
<tbody id="tbody"><tr><td colspan="5" class="loading">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</td></tr></tbody>
</table>
</div>

<div class="box time" id="time">00:00:00</div>

</div>

<button class="btn" onclick="load()">üîÑ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂</button>

<script>
const API='https://draw.ar-lottery01.com/WinGo/WinGo_30S.json';

const PA={0:5,1:8,2:6,3:8,4:8,5:0,6:7,7:6,8:0,9:2};
const SA=['BIG','SMALL','BIG','BIG','SMALL','BIG','BIG','SMALL','BIG','BIG'];
const PB={0:3,1:2,2:7,3:0,4:7,5:1,6:3,7:8,8:7,9:7};
const SB=['BIG','SMALL','BIG','BIG-SMALL','BIG','SMALL','BIG','BIG','BIG','BIG'];

let loss=0;

function getSize(n){return parseInt(n)>=5?'BIG':'SMALL'}
function getGroup(p){return Math.floor((p-1)/10)%2===0?'A':'B'}
function getSlot(p){const s=p%10;return s===0?10:s}

function predict(data){
    if(!data||data.length<1)return{pred:'WAIT',conf:0,info:'‡¶°‡ßá‡¶ü‡¶æ ‡¶®‡ßá‡¶á'};
    
    const last=data[0];
    const lastNum=parseInt(last.num);
    const currPer=parseInt(last.per);
    const nextPer=currPer+1;
    const nextGrp=getGroup(nextPer);
    const nextSlt=getSlot(nextPer);
    
    const numPat=nextGrp==='A'?PA:PB;
    const sltPat=nextGrp==='A'?SA:SB;
    
    const numPred=getSize(numPat[lastNum]);
    const sltPred=sltPat[nextSlt-1];
    
    let pred,conf,info;
    
    if(numPred===sltPred||(sltPred==='BIG-SMALL'&&(numPred==='BIG'||numPred==='SMALL'))){
        pred=numPred;
        conf=80+(loss*4);
        info=`‚úÖ ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶è‡¶ï‡¶á: ${pred}`;
    }else{
        pred=sltPred==='BIG-SMALL'?'BIG':sltPred;
        conf=70+(loss*4);
        info=`üìä ‡¶∏‡ßç‡¶≤‡¶ü: ${sltPred} | ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞: ${numPred}`;
    }
    
    if(loss>0)info+=` | üî• ${loss} ‡¶≤‡¶∏`;
    
    return{pred,conf:Math.min(conf,93),info,grp:nextGrp,slt:nextSlt,per:nextPer};
}

async function load(){
    try{
        const res=await fetch(`${API}?t=${Date.now()}`);
        const json=await res.json();
        
        let list=[];
        if(json&&json.data&&json.data.list)list=json.data.list;
        else if(json&&json.list)list=json.list;
        else if(Array.isArray(json))list=json;
        
        if(list.length===0){
            document.getElementById('tbody').innerHTML='<tr><td colspan="5" class="loading">‡¶°‡ßá‡¶ü‡¶æ ‡¶®‡ßá‡¶á</td></tr>';
            return;
        }
        
        const data=list.map(i=>({
            per:String(i.issueNo||i.issue||i.period||''),
            num:String(i.openResult||i.result||i.number||'0')
        }));
        
        const p=predict(data);
        
        document.getElementById('groupBadge').innerHTML=`<span class="group-badge group-${p.grp.toLowerCase()}">‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ${p.grp}</span>`;
        document.getElementById('predResult').innerHTML=`<span class="pred-${p.pred.toLowerCase()}">${p.pred}</span>`;
        document.getElementById('confBadge').textContent=`${p.conf}% ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§`;
        document.getElementById('info').innerHTML=p.info;
        
        document.getElementById('period').textContent=data[0].per;
        document.getElementById('group').textContent=getGroup(parseInt(data[0].per));
        document.getElementById('slot').textContent=getSlot(parseInt(data[0].per));
        document.getElementById('loss').textContent=loss;
        
        const tbody=document.getElementById('tbody');
        tbody.innerHTML='';
        
        data.slice(0,20).forEach((d,i)=>{
            const pn=parseInt(d.per);
            const num=parseInt(d.num);
            const size=getSize(num);
            const grp=getGroup(pn);
            const slt=getSlot(pn);
            
            const tr=document.createElement('tr');
            if(i===0)tr.classList.add('current');
            
            tr.innerHTML=`
                <td style="font-family:monospace;color:#666">${d.per}</td>
                <td><span class="group-badge group-${grp.toLowerCase()}" style="font-size:10px;padding:3px 10px">${grp}</span></td>
                <td style="font-weight:700">${slt}</td>
                <td class="num-cell">${num}</td>
                <td><span class="size-${size.toLowerCase()}">${size}</span></td>
            `;
            tbody.appendChild(tr);
        });
        
    }catch(e){
        console.error(e);
        document.getElementById('tbody').innerHTML='<tr><td colspan="5" class="loading">‡¶è‡¶∞‡¶∞</td></tr>';
    }
}

function updateTime(){
    const d=new Date();
    const h=String(d.getHours()).padStart(2,'0');
    const m=String(d.getMinutes()).padStart(2,'0');
    const s=String(d.getSeconds()).padStart(2,'0');
    document.getElementById('time').textContent=`${h}:${m}:${s}`;
    if(s==='00'||s==='30')setTimeout(load,1000);
}

load();
setInterval(updateTime,1000);
updateTime();
</script>
</body>
</html>

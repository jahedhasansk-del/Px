<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Lottery Predictor Pro</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
  color: #e0e0e0;
  overflow-x: hidden;
  min-height: 100vh;
}

#matrix {
  position: fixed;
  top: 0;
  left: 0;
  z-index: -1;
  opacity: 0.3;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  z-index: 1;
}

.header {
  text-align: center;
  margin-bottom: 30px;
  padding: 30px;
  background: linear-gradient(135deg, rgba(0, 255, 65, 0.15) 0%, rgba(0, 200, 255, 0.15) 100%);
  border: 2px solid transparent;
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 255, 65, 0.2);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.header::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, #00ff41, #00c8ff, #00ff41);
  border-radius: 20px;
  z-index: -1;
  animation: borderRotate 3s linear infinite;
}

@keyframes borderRotate {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

.header h1 {
  font-size: 2.8em;
  background: linear-gradient(45deg, #00ff41, #00c8ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 0 30px rgba(0, 255, 65, 0.5);
  margin-bottom: 15px;
  font-weight: 700;
  letter-spacing: 2px;
}

.time-display {
  font-size: 1.8em;
  color: #00ff41;
  font-weight: 600;
  text-shadow: 0 0 20px rgba(0, 255, 65, 0.7);
}

.seconds-highlight {
  color: #ff0055;
  font-weight: bold;
  text-shadow: 0 0 20px rgba(255, 0, 85, 0.7);
}

.prediction-panel {
  background: linear-gradient(135deg, rgba(10, 14, 39, 0.95) 0%, rgba(26, 31, 58, 0.95) 100%);
  border: 2px solid #00ff41;
  border-radius: 20px;
  padding: 40px;
  margin-bottom: 30px;
  box-shadow: 0 10px 40px rgba(0, 255, 65, 0.3);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.prediction-panel::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(0, 255, 65, 0.1) 0%, transparent 70%);
  animation: pulse 4s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 0.8; }
}

.prediction-label {
  font-size: 1.4em;
  margin-bottom: 20px;
  opacity: 0.9;
  text-transform: uppercase;
  letter-spacing: 3px;
  font-weight: 600;
}

.current-prediction {
  font-size: 4em;
  font-weight: bold;
  margin: 30px 0;
  text-align: center;
  position: relative;
  z-index: 1;
}

.prediction-big {
  color: #ff0055;
  text-shadow: 0 0 30px #ff0055, 0 0 60px #ff0055;
  animation: glow 2s ease-in-out infinite;
}

.prediction-small {
  color: #00ff41;
  text-shadow: 0 0 30px #00ff41, 0 0 60px #00ff41;
  animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.confidence-bar {
  width: 100%;
  height: 40px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  overflow: hidden;
  margin: 25px 0;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.confidence-fill {
  height: 100%;
  background: linear-gradient(90deg, #00ff41 0%, #00c8ff 100%);
  transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1em;
  position: relative;
  overflow: hidden;
}

.confidence-fill::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

.confidence-high {
  color: #ffffff;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
}

.confidence-medium {
  color: #ffffff;
}

.confidence-low {
  color: #ffffff;
}

.pattern-info {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 20px;
}

.pattern-tag {
  padding: 12px 24px;
  background: rgba(0, 255, 65, 0.2);
  border: 2px solid #00ff41;
  border-radius: 25px;
  font-size: 1em;
  font-weight: 600;
  transition: all 0.3s ease;
}

.pattern-active {
  background: rgba(0, 255, 65, 0.4);
  animation: patternPulse 2s infinite;
  box-shadow: 0 0 20px rgba(0, 255, 65, 0.6);
}

@keyframes patternPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.stat-card {
  background: linear-gradient(135deg, rgba(10, 14, 39, 0.95) 0%, rgba(26, 31, 58, 0.95) 100%);
  border: 2px solid #00ff41;
  border-radius: 15px;
  padding: 25px;
  text-align: center;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.2), transparent);
  transition: left 0.5s;
}

.stat-card:hover::before {
  left: 100%;
}

.stat-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0, 255, 65, 0.4);
}

.stat-value {
  font-size: 2.8em;
  font-weight: bold;
  margin: 15px 0;
  background: linear-gradient(45deg, #00ff41, #00c8ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-label {
  opacity: 0.9;
  font-size: 1em;
  text-transform: uppercase;
  letter-spacing: 2px;
  font-weight: 600;
}

.data-section {
  margin-bottom: 30px;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 30px;
  background: linear-gradient(135deg, rgba(0, 255, 65, 0.2) 0%, rgba(0, 200, 255, 0.2) 100%);
  border: 2px solid #00ff41;
  border-radius: 15px 15px 0 0;
  margin-bottom: -2px;
}

.section-title {
  font-size: 1.5em;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: #00ff41;
  text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
}

.history-controls {
  display: flex;
  gap: 10px;
  align-items: center;
}

.size-btn {
  padding: 8px 16px;
  background: rgba(0, 255, 65, 0.2);
  border: 2px solid #00ff41;
  border-radius: 8px;
  color: #00ff41;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
  font-size: 0.9em;
}

.size-btn:hover {
  background: rgba(0, 255, 65, 0.4);
  box-shadow: 0 0 15px rgba(0, 255, 65, 0.5);
}

.size-btn.active {
  background: #00ff41;
  color: #0a0e27;
  box-shadow: 0 0 20px rgba(0, 255, 65, 0.7);
}

.data-table {
  background: linear-gradient(135deg, rgba(10, 14, 39, 0.95) 0%, rgba(26, 31, 58, 0.95) 100%);
  border: 2px solid #00ff41;
  border-radius: 0 0 15px 15px;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

.table-wrapper {
  overflow-x: auto;
  overflow-y: visible;
}

table {
  width: 100%;
  border-collapse: collapse;
  min-width: 700px;
}

th, td {
  padding: 16px 12px;
  text-align: center;
  border-bottom: 1px solid rgba(0, 255, 65, 0.2);
  font-size: 0.95em;
}

th {
  background: rgba(0, 255, 65, 0.15);
  font-weight: 700;
  font-size: 1em;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #00ff41;
  position: sticky;
  top: 0;
  z-index: 10;
}

tr {
  transition: all 0.3s ease;
}

tbody tr:hover {
  background: rgba(0, 255, 65, 0.1);
  transform: scale(1.01);
}

.period-cell {
  color: #00c8ff;
  font-size: 0.85em;
  font-weight: 600;
  font-family: 'Courier New', monospace;
}
  .number-cell {
  font-size: 1.5em;
  font-weight: bold;
}

.color-cell {
  display: flex;
  gap: 6px;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

.color-dot {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  display: inline-block;
  flex-shrink: 0;
  transition: all 0.3s ease;
}

.color-dot:hover {
  transform: scale(1.3);
}

.color-dot.red {
  background: #ff0055;
  box-shadow: 0 0 15px #ff0055;
}

.color-dot.green {
  background: #00ff41;
  box-shadow: 0 0 15px #00ff41;
}

.color-dot.violet {
  background: #aa00ff;
  box-shadow: 0 0 15px #aa00ff;
}

.result-cell {
  font-weight: bold;
  font-size: 1.1em;
}

.result-win {
  color: #00ff41;
  text-shadow: 0 0 10px rgba(0, 255, 65, 0.7);
}

.result-loss {
  color: #ff0055;
  text-shadow: 0 0 10px rgba(255, 0, 85, 0.7);
}

.loading {
  text-align: center;
  padding: 50px;
  font-size: 1.3em;
  opacity: 0.7;
  animation: loadingPulse 1.5s ease-in-out infinite;
}

@keyframes loadingPulse {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

.refresh-btn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 70px;
  height: 70px;
  background: linear-gradient(135deg, #00ff41 0%, #00c8ff 100%);
  border: none;
  border-radius: 50%;
  color: #0a0e27;
  font-size: 2em;
  cursor: pointer;
  box-shadow: 0 5px 25px rgba(0, 255, 65, 0.5);
  transition: all 0.3s ease;
  z-index: 1000;
}

.refresh-btn:hover {
  transform: scale(1.15) rotate(90deg);
  box-shadow: 0 8px 35px rgba(0, 255, 65, 0.7);
}

.refresh-btn:active {
  transform: scale(0.95);
}

.spinning {
  animation: spin 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 2em;
  }
  
  .time-display {
    font-size: 1.4em;
  }
  
  .current-prediction {
    font-size: 3em;
  }
  
  th, td {
    padding: 12px 8px;
    font-size: 0.85em;
  }
  
  .stat-value {
    font-size: 2.2em;
  }
  
  .section-header {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
}
</style>
</head>
<body>
<canvas id="matrix"></canvas>

<div class="container">
  <div class="header">
    <h1>🎯 AI LOTTERY PREDICTOR PRO</h1>
    <div class="time-display" id="rt">00:00:00</div>
  </div>

  <div class="prediction-panel">
    <div class="prediction-label">⚡ NEXT PREDICTION</div>
    <div class="current-prediction" id="currPred">
      <span class="prediction-big">ANALYZING...</span>
    </div>
    <div class="confidence-bar">
      <div class="confidence-fill" id="confBar" style="width: 0%">
        <span id="confLabel">LOADING...</span>
      </div>
    </div>
    <div class="pattern-info" id="patternInfo">
      <span class="pattern-tag">INITIALIZING</span>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-label">✓ WIN</div>
      <div class="stat-value" id="wc">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">✗ LOSS</div>
      <div class="stat-value" id="lc">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">📊 TOTAL</div>
      <div class="stat-value" id="tc">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">🎯 WIN RATE</div>
      <div class="stat-value" id="wr">0%</div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-label">P1 WINS</div>
      <div class="stat-value" id="p1w">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">P2 WINS</div>
      <div class="stat-value" id="p2w">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">P3 WINS</div>
      <div class="stat-value" id="p3w">0</div>
    </div>
  </div>

  <div class="data-section">
    <div class="section-header">
      <div class="section-title">📜 HISTORY</div>
      <div class="history-controls">
        <button class="size-btn active" onclick="changeSize(10)" id="btn10">10</button>
        <button class="size-btn" onclick="changeSize(20)" id="btn20">20</button>
        <button class="size-btn" onclick="changeSize(30)" id="btn30">30</button>
        <button class="size-btn" onclick="changeSize(50)" id="btn50">50</button>
      </div>
    </div>
    <div class="data-table">
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>PERIOD</th>
              <th>NUMBER</th>
              <th>SIZE</th>
              <th>COLOR</th>
              <th>RESULT</th>
            </tr>
          </thead>
          <tbody id="tb">
            <tr>
              <td colspan="5" class="loading">[ LOADING DATA... ]</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<button class="refresh-btn" onclick="_r()" id="ri">↻</button>

<script>
// Matrix Effect
const c=document.getElementById('matrix'),ctx=c.getContext('2d');c.width=window.innerWidth;c.height=window.innerHeight;const chars='01',fontSize=14,cols=c.width/fontSize,drops=[];for(let i=0;i<cols;i++)drops[i]=1;function drawMatrix(){ctx.fillStyle='rgba(10,14,39,0.05)';ctx.fillRect(0,0,c.width,c.height);ctx.fillStyle='#00ff41';ctx.font=fontSize+'px monospace';for(let i=0;i<drops.length;i++){const t=chars[Math.floor(Math.random()*chars.length)];ctx.fillText(t,i*fontSize,drops[i]*fontSize);if(drops[i]*fontSize>c.height&&Math.random()>0.975)drops[i]=0;drops[i]++}}setInterval(drawMatrix,50);

window.addEventListener('resize', () => {
  c.width = window.innerWidth;
  c.height = window.innerHeight;
});

// History Size Control
let currentSize = 10;
window.changeSize = (size) => {
  currentSize = size;
  ['btn10', 'btn20', 'btn30', 'btn50'].forEach(id => {
    document.getElementById(id).classList.remove('active');
  });
  document.getElementById('btn' + size).classList.add('active');
  _l();
};

// AI Prediction System
(function(){
const BIG='Big',SMALL='Small',WIN='win',LOSS='loss';
let _p=null,_lp=null,_h=[],_box11=null,_ct,_pStats={p1:{w:0,l:0,lc:0},p2:{w:0,l:0},p3:{w:0,l:0}},_revMode=false;

const _d=h=>{let s='';for(let i=0;i<h.length;i+=2)s+=String.fromCharCode(parseInt(h.substr(i,2),16));return s};
const _k={u1:_d('68747470733a2f2f647261772e61722d6c6f74746572793031'),u2:_d('2e636f6d2f57696e476f2f57696e476f5f314d2f'),u3:_d('476574486973746f7279497373756550616765'),u4:_d('2e6a736f6e'),i:1000,m:59};
const _x=n=>parseInt(n)>=5?BIG:SMALL;
const _inv=p=>p===BIG?SMALL:BIG;
const _g=(n,c)=>{let a=[];if(c==='red')a.push('red');else if(c==='green')a.push('green');else if(c==='violet')a.push('violet');if(n===0){a.push('violet');a.push('red')}else if(n===5){a.push('violet');a.push('green')}return a};

const _p1=(d)=>{if(d.length<3)return null;const lastP1Only=_h.filter(x=>x.ps&&x.ps.includes('P1')&&x.ps.length===1).slice(0,3);const recentLosses=lastP1Only.filter(x=>x.res===LOSS).length;if(recentLosses===3&&lastP1Only.length===3){_pStats.p1.lc=_pStats.p1.lc===0?1:0}let pred;const isBSB=(d[0]===BIG&&d[1]===SMALL&&d[2]===BIG);const isSBS=(d[0]===SMALL&&d[1]===BIG&&d[2]===SMALL);if(_pStats.p1.lc===0){if(isBSB)pred=SMALL;else if(isSBS)pred=BIG;else pred=_inv(d[0])}else{if(isSBS)pred=BIG;else if(isBSB)pred=SMALL;else pred=_inv(d[0])}return{pr:pred,conf:85}};

const _p2=(d)=>{if(d.length<5)return null;const b1=d[0],b5=d[4],b4=d[3];let pred;if(b1===b5){pred=b4}else{pred=_inv(b4)}return{pr:pred,conf:88}};

const _p3=(d)=>{if(!_box11||d.length<10)return null;const b1=d[0],b11=_box11,b10=d[9];let pred;if(b1===b11){pred=b10}else{pred=_inv(b10)}return{pr:pred,conf:87}};

const _ai=(d)=>{const p1=_p1(d),p2=_p2(d),p3=_p3(d);let preds=[];if(p1)preds.push({p:p1.pr,c:p1.conf,n:'P1'});if(p2)preds.push({p:p2.pr,c:p2.conf,n:'P2'});if(p3)preds.push({p:p3.pr,c:p3.conf,n:'P3'});if(preds.length===0)return{pr:d[0]===BIG?SMALL:BIG,conf:55,ps:[],rev:false};let finalPred=null,finalConf=55,finalPs=[];if(preds.length===3&&preds[0].p===preds[1].p&&preds[1].p===preds[2].p){finalPred=preds[0].p;finalConf=97;finalPs=['P1','P2','P3']}else{const pairs=[{n:['P1','P2'],p:preds.filter(x=>x.n==='P1'||x.n==='P2')},{n:['P1','P3'],p:preds.filter(x=>x.n==='P1'||x.n==='P3')},{n:['P2','P3'],p:preds.filter(x=>x.n==='P2'||x.n==='P3')}];for(let pair of pairs){if(pair.p.length===2&&pair.p[0].p===pair.p[1].p){finalPred=pair.p[0].p;finalConf=92;finalPs=pair.n;break}}if(!finalPred){preds.sort((a,b)=>b.c-a.c);finalPred=preds[0].p;finalConf=preds[0].c;finalPs=[preds[0].n]}}if(finalPs.length>=2){const last=_h[0];if(last&&last.res===LOSS&&last.ps&&last.ps.length>=2&&!last.rev){_revMode=true;finalPred=_inv(finalPred);return{pr:finalPred,conf:finalConf+3,ps:finalPs,rev:true}}else if(_revMode){finalPred=_inv(finalPred);return{pr:finalPred,conf:finalConf+2,ps:finalPs,rev:true}}}return{pr:finalPred,conf:finalConf,ps:finalPs,rev:false}};

const _u=()=>{const n=new Date(),h=String(n.getHours()).padStart(2,'0'),m=String(n.getMinutes()).padStart(2,'0'),s=String(n.getSeconds()).padStart(2,'0'),e=document.getElementById('rt');if(e)e.innerHTML=`${h}:${m}:<span class="seconds-highlight">${s}</span>`;if(n.getSeconds()===_k.m)_l()};
const _s=()=>{_u();clearInterval(_ct);_ct=setInterval(_u,_k.i)};
window._r=()=>{const ic=document.getElementById('ri');if(ic){ic.classList.add('spinning');setTimeout(()=>ic.classList.remove('spinning'),600)}_l()};

const _l=async()=>{try{const t=new Date().getTime(),_u=_k.u1+_k.u2+_k.u3+_k.u4,_q=`?${_d('7473')}=${t}`,_f=_u+_q,r=await fetch(_f),d=await r.json();let ls=[];const _pk=['data','list'],_sk=['list'];if(d&&d[_pk[0]]&&d[_pk[0]][_pk[1]])ls=d[_pk[0]][_pk[1]].slice(0,currentSize+1);else if(d&&d[_sk[0]])ls=d[_sk[0]].slice(0,currentSize+1);else if(Array.isArray(d))ls=d.slice(0,currentSize+1);const tb=document.getElementById("tb");tb.innerHTML="";if(ls.length===0){tb.innerHTML='<tr><td colspan="5" class="loading">[ NO DATA ]</td></tr>';return}const _f1=['issue','period','issueNo','periodId','issueNumber'],_f2=['result','number','num','openResult'],_f3=['color','colour'],_f4=['gameNo','drawNo','id'];const tp=String(ls[0][_f1[0]]||ls[0][_f1[1]]||ls[0][_f1[2]]||ls[0][_f1[3]]||ls[0][_f1[4]]||''),tn=String(ls[0][_f2[0]]||ls[0][_f2[1]]||ls[0][_f2[2]]||ls[0][_f2[3]]||''),ts=_x(tn);const sh=ls.slice(0,Math.min(currentSize, ls.length)).map(i=>{const rn=i[_f2[0]]||i[_f2[1]]||i[_f2[2]]||i[_f2[3]]||"?";return _x(rn)});if(ls.length>=11){const box11Data=ls[10];const box11Num=box11Data[_f2[0]]||box11Data[_f2[1]]||box11Data[_f2[2]]||box11Data[_f2[3]];_box11=_x(box11Num)}else if(sh.length===10&&_box11===null){_box11=sh[9]}const pd=_ai(sh);if(_lp!==tp){if(_p){const im=_p.pr===ts,re={per:tp,pred:_p.pr,act:ts,res:im?WIN:LOSS,ps:_p.ps,rev:_p.rev};_h.unshift(re);if(_h.length>100)_h=_h.slice(0,100);if(_p.ps){_p.ps.forEach(pn=>{const k=pn.toLowerCase();if(im)_pStats[k].w++;else _pStats[k].l++})}if(im&&_p.ps&&_p.ps.length>=2){_revMode=false}_box11=sh[9]}_p={...pd};_lp=tp}const cr=document.getElementById("currPred"),cb=document.getElementById("confBar"),cl=document.getElementById("confLabel"),pi=document.getElementById("patternInfo");cr.innerHTML=`<span class="prediction-${pd.pr.toLowerCase()}">${pd.pr}</span>`;cb.style.width=pd.conf+'%';if(pd.conf>=95)cl.innerHTML='<span class="confidence-high">⚡ ULTRA HIGH'+(pd.rev?' ⟲':'')+'</span>';else if(pd.conf>=90)cl.innerHTML='<span class="confidence-high">✓ VERY HIGH'+(pd.rev?' ⟲':'')+'</span>';else if(pd.conf>=85)cl.innerHTML='<span class="confidence-medium">⚠ MEDIUM'+(pd.rev?' ⟲':'')+'</span>';else cl.innerHTML='<span class="confidence-low">⚠ LOW</span>';pi.innerHTML=pd.ps.length>0?pd.ps.map(p=>`<span class="pattern-tag pattern-active">${p}</span>`).join(''):'<span class="pattern-tag">ANALYZING</span>';let wc=0,lc=0;_h.forEach(e=>{if(e.res===WIN)wc++;if(e.res===LOSS)lc++});ls.slice(0,currentSize).forEach((it,ix)=>{const tr=document.createElement("tr"),tdp=document.createElement("td");tdp.className="period-cell";const pv=String(it[_f1[0]]||it[_f1[1]]||it[_f1[2]]||it[_f1[3]]||it[_f1[4]]||it[_f4[0]]||it[_f4[1]]||it[_f4[2]]||'');tdp.textContent=pv||"N/A";const rn=it[_f2[0]]||it[_f2[1]]||it[_f2[2]]||it[_f2[3]]||"?",tdn=document.createElement("td");tdn.className="number-cell";const ns=document.createElement("span"),co=(it[_f3[0]]||it[_f3[1]]||"").toLowerCase();if(co==='red'){ns.style.color='#ff0055';ns.style.textShadow='0 0 10px #ff0055'}else if(co==='green'){ns.style.color='#00ff41';ns.style.textShadow='0 0 10px #00ff41'}else if(co==='violet'||co==='purple'){ns.style.color='#aa00ff';ns.style.textShadow='0 0 10px #aa00ff'}ns.textContent=rn;tdn.appendChild(ns);const tds=document.createElement("td");tds.textContent=sh[ix];const tdc=document.createElement("td");tdc.className="color-cell";const nv=parseInt(rn),cls=_g(nv,co);cls.forEach(c=>{const dt=document.createElement("span");dt.className=`color-dot ${c}`;tdc.appendChild(dt)});const tdr=document.createElement("td"),mr=_h.find(q=>String(q.per)===String(pv));if(mr){if(mr.res===WIN){tdr.className="result-cell result-win";tdr.textContent="✓ WIN"}else{tdr.className="result-cell result-loss";tdr.textContent="✗ LOSS"}}else tdr.textContent="-";tr.appendChild(tdp);tr.appendChild(tdn);tr.appendChild(tds);tr.appendChild(tdc);tr.appendChild(tdr);tb.appendChild(tr)});const to=wc+lc,wrt=to>0?Math.round((wc/to)*100):0;document.getElementById('wc').textContent=wc;document.getElementById('lc').textContent=lc;document.getElementById('tc').textContent=to;document.getElementById('wr').textContent=wrt+'%';document.getElementById('p1w').textContent=_pStats.p1.w;document.getElementById('p2w').textContent=_pStats.p2.w;document.getElementById('p3w').textContent=_pStats.p3.w}catch(e){document.getElementById("tb").innerHTML=`<tr><td colspan="5" class="loading">[ ERROR: ${e.message} ]</td></tr>`}};_l();_s()})();
</script>
</body>
</html>

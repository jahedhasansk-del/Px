<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>WinGo Pattern</title>
<style>
body{font-family:arial;background:#111;color:#fff;text-align:center}
#sig{font-size:48px;margin:20px}
small{opacity:.6}
</style>
</head>
<body>

<h2>WINGO SIGNAL</h2>
<div id="sig">...</div>
<small id="info"></small>

<script>
const API="https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json";
let mem=[],patterns={},active=null,loss=0,lastPeriod=null;

const size=n=>n>=5?"B":"S";
const key=a=>a.join("");

function buildPatterns(){
  patterns={};
  for(let i=0;i+10<=mem.length;i+=10){
    let p=key(mem.slice(i,i+10));
    patterns[p]=(patterns[p]||0)+1;
  }
}

function nextSignal(){
  let last10=key(mem.slice(0,10));
  let best=null,max=1;
  for(let p in patterns)
    if(p!==last10 && patterns[p]>max && p.slice(0,8)==last10.slice(2))
      max=patterns[p],best=p;
  return best?best[9]:null;
}

async function load(){
  let j=await fetch(API+"?t="+Date.now()).then(r=>r.json());
  let list=j.data?.list||[];
  let cur=list[0];
  if(!cur) return;

  let period=cur.issue, num=+cur.result;
  if(period!==lastPeriod){
    mem.unshift(size(num));
    if(mem.length>300) mem.pop();
    buildPatterns();

    if(active){
      if(active!==size(num)) loss++;
      else loss=0;
    }
    active=nextSignal();
    lastPeriod=period;
  }

  document.getElementById("sig").textContent=
    active?active=="B"?"BIG":"SMALL":"WAIT";
  document.getElementById("info").textContent=
    "Memory:"+mem.length+" Loss:"+loss;
}

load();
setInterval(load,60000);
</script>
</body>
</html>

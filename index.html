<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>WinGo Pro Signal - A/B Pattern</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;position:relative;overflow-x:hidden}
body::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");z-index:0;opacity:.3}
.container{max-width:1200px;margin:0 auto;position:relative;z-index:1}
.header{text-align:center;margin-bottom:30px;background:rgba(255,255,255,.95);padding:30px;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.3);position:relative;overflow:hidden}
.header::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);animation:shine 3s infinite}
@keyframes shine{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.logo{font-size:42px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800;margin-bottom:10px;letter-spacing:2px}
.subtitle{color:#666;font-size:14px;letter-spacing:3px;text-transform:uppercase;font-weight:600}
.group-badge{display:inline-block;margin-top:15px;padding:10px 25px;border-radius:50px;font-weight:700;font-size:18px;letter-spacing:2px}
.group-a{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:white;box-shadow:0 5px 15px rgba(245,87,108,.4)}
.group-b{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:white;box-shadow:0 5px 15px rgba(79,172,254,.4)}
.prediction-box{background:rgba(255,255,255,.95);border-radius:20px;padding:40px;margin-bottom:25px;box-shadow:0 20px 60px rgba(0,0,0,.3);position:relative;overflow:hidden}
.prediction-box::after{content:'';position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#667eea,#764ba2,#f093fb);animation:loading 2s ease-in-out infinite}
@keyframes loading{0%,100%{transform:translateX(-100%)}50%{transform:translateX(100%)}}
.pred-title{text-align:center;color:#764ba2;font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:2px;margin-bottom:25px}
.pred-result{text-align:center;font-size:72px;font-weight:900;margin-bottom:20px;text-transform:uppercase;letter-spacing:8px;animation:popIn .6s cubic-bezier(0.68,-0.55,0.265,1.55)}
@keyframes popIn{0%{opacity:0;transform:scale(.3) rotate(-10deg)}100%{opacity:1;transform:scale(1) rotate(0deg)}}
.pred-big{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 4px 8px rgba(245,87,108,.3))}
.pred-small{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 4px 8px rgba(79,172,254,.3))}
.confidence-info{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:20px;flex-wrap:wrap}
.conf-badge{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:12px 30px;border-radius:50px;font-weight:700;font-size:14px;text-transform:uppercase;letter-spacing:1px;box-shadow:0 10px 25px rgba(102,126,234,.4)}
.pattern-badge{background:linear-gradient(135deg,#00f2fe 0%,#4facfe 100%);color:white;padding:10px 20px;border-radius:50px;font-weight:700;font-size:12px}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:25px}
.stat-card{background:rgba(255,255,255,.95);border-radius:15px;padding:25px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.2);transition:all .3s ease;position:relative;overflow:hidden}
.stat-card::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}
.stat-card:hover{transform:translateY(-5px);box-shadow:0 15px 40px rgba(0,0,0,.3)}
.stat-label{font-size:12px;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;font-weight:600}
.stat-value{font-size:36px;font-weight:900;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.table-wrapper{background:rgba(255,255,255,.95);border-radius:20px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.3);margin-bottom:25px}
table{width:100%;border-collapse:collapse}
thead{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
th{padding:18px 12px;text-align:center;font-weight:700;color:white;font-size:13px;text-transform:uppercase;letter-spacing:1px}
tbody tr{transition:all .3s ease;border-bottom:1px solid #f0f0f0}
tbody tr:hover{background:linear-gradient(135deg,rgba(102,126,234,.1) 0%,rgba(118,75,162,.1) 100%);transform:scale(1.01)}
tbody tr.current-period{background:linear-gradient(135deg,rgba(255,215,0,.15) 0%,rgba(255,215,0,.25) 100%);border-left:5px solid #ffd700}
td{padding:16px 12px;text-align:center;color:#333;font-size:13px;font-weight:600}
.period-cell{font-family:'Courier New',monospace;font-size:12px;color:#666}
.num-cell{font-size:28px;font-weight:900}
.size-badge{display:inline-block;padding:6px 16px;border-radius:20px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1px}
.size-big{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:white}
.size-small{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:white}
.group-cell{font-size:16px;font-weight:800;letter-spacing:1px}
.refresh-btn{position:fixed;bottom:30px;right:30px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:18px 35px;border-radius:50px;font-size:16px;font-weight:700;cursor:pointer;box-shadow:0 10px 30px rgba(102,126,234,.5);display:flex;align-items:center;gap:10px;transition:all .3s;z-index:1000;text-transform:uppercase;letter-spacing:1px}
.refresh-btn:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(102,126,234,.7)}
.refresh-btn:active{transform:translateY(-1px)}
.refresh-icon{font-size:20px;transition:transform .5s}
.refresh-icon.spin{animation:rotate .5s linear}
@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.time-display{text-align:center;margin-top:20px;padding:15px;background:rgba(255,255,255,.2);border-radius:15px;backdrop-filter:blur(10px)}
.current-time{font-size:32px;font-weight:900;color:white;text-shadow:0 2px 10px rgba(0,0,0,.3);letter-spacing:2px}
.loading{text-align:center;padding:20px;color:#764ba2;font-size:16px;font-weight:600}
.pattern-info{background:rgba(102,126,234,.1);border-radius:15px;padding:20px;margin-top:15px}
.pattern-desc{font-size:14px;color:#764ba2;font-weight:600;line-height:1.8;margin-bottom:10px}
.loss-indicator{display:inline-block;padding:8px 20px;border-radius:50px;background:linear-gradient(135deg,#ff6b6b,#ff4757);color:white;font-weight:700;margin-left:10px;font-size:12px;animation:pulse 1.5s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
@media (max-width:768px){.logo{font-size:32px}.pred-result{font-size:48px;letter-spacing:4px}.stats-grid{grid-template-columns:repeat(2,1fr)}.refresh-btn{bottom:20px;right:20px;padding:15px 25px;font-size:14px}th,td{padding:12px 8px;font-size:11px}.num-cell{font-size:22px}}
</style>
</head>
<body>
<div class="container">
<div class="header">
<div class="logo">‚ö° WINGO PRO SIGNAL</div>
<div class="subtitle">A/B Pattern Prediction System</div>
<div id="currentGroupBadge"></div>
</div>

<div class="prediction-box">
<div class="pred-title">üéØ Next Period Prediction</div>
<div class="pred-result" id="predResult"><div class="loading">Analyzing...</div></div>
<div class="confidence-info">
<div class="conf-badge" id="confBadge">Calculating...</div>
<div class="pattern-badge" id="patternBadge"></div>
<div id="lossIndicator"></div>
</div>
<div class="pattern-info">
<div class="pattern-desc" id="patternDesc">Loading pattern analysis...</div>
</div>
</div>

<div class="stats-grid">
<div class="stat-card"><div class="stat-label">Current Period</div><div class="stat-value" id="currentPeriod">-</div></div>
<div class="stat-card"><div class="stat-label">Current Group</div><div class="stat-value" id="currentGroup">-</div></div>
<div class="stat-card"><div class="stat-label">Period Slot</div><div class="stat-value" id="periodSlot">-</div></div>
<div class="stat-card"><div class="stat-label">Consecutive Loss</div><div class="stat-value" id="lossCount" style="color:#ff4757">0</div></div>
</div>

<div class="table-wrapper">
<table>
<thead><tr><th>Period</th><th>Group</th><th>Slot</th><th>Number</th><th>Size</th></tr></thead>
<tbody id="tableBody"><tr><td colspan="5" class="loading">Loading...</td></tr></tbody>
</table>
</div>

<div class="time-display"><div class="current-time" id="currentTime">00:00:00</div></div>
</div>

<button class="refresh-btn" onclick="refreshData()"><span class="refresh-icon" id="refreshIcon">‚Üª</span><span>Refresh</span></button>

<script>
const API = 'https://draw.ar-lottery01.com/WinGo/WinGo_30S.json';

// A ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá)
const patternA = {
    0: 5, // 0 ‚Üí BIG
    1: 8, // 1 ‚Üí BIG
    2: 6, // 2 ‚Üí BIG
    3: 8, // 3 ‚Üí BIG
    4: 8, // 4 ‚Üí BIG
    5: 0, // 5 ‚Üí SMALL
    6: 7, // 6 ‚Üí BIG
    7: 6, // 7 ‚Üí BIG
    8: 0, // 8 ‚Üí SMALL
    9: 2  // 9 ‚Üí SMALL
};

// A ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶™‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶° ‡¶∏‡ßç‡¶≤‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®
const slotPatternA = ['BIG', 'SMALL', 'BIG', 'BIG', 'SMALL', 'BIG', 'BIG', 'SMALL', 'BIG', 'BIG'];

// B ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá)
const patternB = {
    0: 3, // 0 ‚Üí SMALL
    1: 2, // 1 ‚Üí SMALL
    2: 7, // 2 ‚Üí BIG
    3: 0, // 3 ‚Üí SMALL
    4: 7, // 4 ‚Üí BIG
    5: 1, // 5 ‚Üí SMALL
    6: 3, // 6 ‚Üí SMALL
    7: 8, // 7 ‚Üí BIG
    8: 7, // 8 ‚Üí BIG
    9: 7  // 9 ‚Üí BIG
};

// B ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶™‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶° ‡¶∏‡ßç‡¶≤‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®
const slotPatternB = ['BIG', 'SMALL', 'BIG', 'BIG-SMALL', 'BIG', 'SMALL', 'BIG', 'BIG', 'BIG', 'BIG'];

let allData = [];
let consecutiveLoss = 0;

function getSize(n) {
    const num = parseInt(n);
    return num >= 5 ? 'BIG' : 'SMALL';
}

function getGroup(period) {
    const lastDigit = period % 10;
    const groupNumber = Math.floor((period - 1) / 10) % 2;
    return groupNumber === 0 ? 'A' : 'B';
}

function getPeriodSlot(period) {
    const lastDigit = period % 10;
    return lastDigit === 0 ? 10 : lastDigit;
}

function predictByNumber(lastNumber, group) {
    const pattern = group === 'A' ? patternA : patternB;
    const predictedNum = pattern[lastNumber];
    return getSize(predictedNum);
}

function predictBySlot(slot, group) {
    const slotPattern = group === 'A' ? slotPatternA : slotPatternB;
    return slotPattern[slot - 1];
}

function calculatePrediction(data) {
    if (!data || data.length < 2) {
        return {
            prediction: 'WAIT',
            confidence: 0,
            details: '‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...'
        };
    }

    const lastPeriod = data[0];
    const lastNumber = parseInt(lastPeriod.number);
    const lastSize = getSize(lastNumber);
    
    const currentPeriodNum = parseInt(lastPeriod.period);
    const nextPeriodNum = currentPeriodNum + 1;
    const nextGroup = getGroup(nextPeriodNum);
    const nextSlot = getPeriodSlot(nextPeriodNum);

    // ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá prediction
    const numPrediction = predictByNumber(lastNumber, nextGroup);
    
    // ‡¶∏‡ßç‡¶≤‡¶ü ‡¶¶‡ßá‡¶ñ‡ßá prediction
    const slotPrediction = predictBySlot(nextSlot, nextGroup);
    
    // Check previous predictions for loss tracking
    if (data.length >= 3) {
        const prevPeriod = data[1];
        const prevPredictedSize = getSize(parseInt(prevPeriod.number));
        const actualSize = lastSize;
        
        // This is simplified - in real scenario, you'd track actual predictions made
    }

    let finalPrediction, confidence, details;

    // ‡¶Ø‡¶¶‡¶ø ‡¶â‡¶≠‡¶Ø‡¶º ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶è‡¶ï‡¶á prediction ‡¶¶‡ßá‡¶Ø‡¶º
    if (numPrediction === slotPrediction || 
        (slotPrediction === 'BIG-SMALL' && (numPrediction === 'BIG' || numPrediction === 'SMALL'))) {
        finalPrediction = numPrediction;
        confidence = 80 + (consecutiveLoss * 4); // 80% base, increases with loss
        details = `‚úÖ ‡¶â‡¶≠‡¶Ø‡¶º ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ${finalPrediction} ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶ï‡¶∞‡¶õ‡ßá (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ + ‡¶∏‡ßç‡¶≤‡¶ü)`;
    } else {
        // ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡ßç‡¶≤‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶´‡¶≤‡ßã ‡¶ï‡¶∞‡¶¨‡ßá
        finalPrediction = slotPrediction === 'BIG-SMALL' ? 'BIG' : slotPrediction;
        confidence = 70 + (consecutiveLoss * 4); // 70% base
        details = `üìä ‡¶∏‡ßç‡¶≤‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®: ${slotPrediction} | ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®: ${numPrediction}`;
    }

    // Loss tracking adjustment
    if (consecutiveLoss > 0) {
        details += ` | üî• ${consecutiveLoss} ‡¶ü‡¶ø ‡¶≤‡¶∏ ‡¶™‡¶∞ ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø`;
    }

    return {
        prediction: finalPrediction,
        confidence: Math.min(confidence, 93),
        details: details,
        group: nextGroup,
        slot: nextSlot,
        numPrediction: numPrediction,
        slotPrediction: slotPrediction,
        nextPeriod: nextPeriodNum
    };
}

async function loadData() {
    try {
        const res = await fetch(`${API}?ts=${Date.now()}`);
        const data = await res.json();
        
        let gameList = [];
        if (data && data.data && data.data.list) gameList = data.data.list;
        else if (data && data.list) gameList = data.list;
        else if (Array.isArray(data)) gameList = data;

        if (gameList.length === 0) {
            document.getElementById('tableBody').innerHTML = '<tr><td colspan="5" class="loading">No data available</td></tr>';
            return;
        }

        allData = gameList.map(item => ({
            period: String(item.issueNo || item.issue || item.period || ''),
            number: String(item.openResult || item.result || item.number || '0')
        }));

        // Calculate prediction
        const prediction = calculatePrediction(allData);

        // Update header badge
        const groupBadge = document.getElementById('currentGroupBadge');
        groupBadge.innerHTML = `<span class="group-badge group-${prediction.group.toLowerCase()}">‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ${prediction.group}</span>`;

        // Update prediction display
        const predClass = prediction.prediction === 'BIG' ? 'pred-big' : 'pred-small';
        document.getElementById('predResult').innerHTML = `<span class="${predClass}">${prediction.prediction}</span>`;
        document.getElementById('confBadge').textContent = `‡¶Ü‡¶§‡ßç‡¶Æ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏: ${prediction.confidence}%`;
        document.getElementById('patternBadge').textContent = `‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ: ${prediction.nextPeriod} | ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ${prediction.group}`;
        document.getElementById('patternDesc').innerHTML = prediction.details;

        // Loss indicator
        const lossIndicator = document.getElementById('lossIndicator');
        if (consecutiveLoss > 0) {
            lossIndicator.innerHTML = `<span class="loss-indicator">${consecutiveLoss} ‡¶ü‡¶ø ‡¶ß‡¶æ‡¶∞‡¶æ‡¶¨‡¶æ‡¶π‡¶ø‡¶ï ‡¶≤‡¶∏</span>`;
        } else {
            lossIndicator.innerHTML = '';
        }

        // Update stats
        document.getElementById('currentPeriod').textContent = allData[0].period;
        document.getElementById('currentGroup').textContent = getGroup(parseInt(allData[0].period));
        document.getElementById('periodSlot').textContent = getPeriodSlot(parseInt(allData[0].period));
        document.getElementById('lossCount').textContent = consecutiveLoss;

        // Update table
        const tbody = document.getElementById('tableBody');
        tbody.innerHTML = '';
        
        allData.slice(0, 30).forEach((item, idx) => {
            const periodNum = parseInt(item.period);
            const num = parseInt(item.number);
            const size = getSize(num);
            const group = getGroup(periodNum);
            const slot = getPeriodSlot(periodNum);

            const tr = document.createElement('tr');
            if (idx === 0) tr.classList.add('current-period');

            const tdPeriod = document.createElement('td');
            tdPeriod.className = 'period-cell';
            tdPeriod.textContent = item.period;

            const tdGroup = document.createElement('td');
            tdGroup.className = 'group-cell';
            tdGroup.innerHTML = `<span class="group-badge group-${group.toLowerCase()}" style="font-size:11px;padding:4px 12px">${group}</span>`;

            const tdSlot = document.createElement('td');
            tdSlot.textContent = slot;
            tdSlot.style.fontWeight = '700';

            const tdNum = document.createElement('td');
            tdNum.className = 'num-cell';
            tdNum.textContent = num;

            const tdSize = document.createElement('td');
            tdSize.innerHTML = `<span class="size-badge size-${size === 'BIG' ? 'big' : 'small'}">${size}</span>`;

            tr.appendChild(tdPeriod);
            tr.appendChild(tdGroup);
            tr.appendChild(tdSlot);
            tr.appendChild(tdNum);
            tr.appendChild(tdSize);
            tbody.appendChild(tr);
        });

    } catch (err) {
        console.error('Error:', err);
        document.getElementById('tableBody').innerHTML = '<tr><td colspan="5" class="loading">Error loading data</td></tr>';
    }
}

function updateTime() {
    const now = new Date();
    const h = String(now.getHours()).padStart(2, '0');
    const m = String(now.getMinutes()).padStart(2, '0');
    const s = String(now.getSeconds()).padStart(2, '0');
    document.getElementById('currentTime').textContent = `${h}:${m}:${s}`;
    
    // Auto refresh every 30 seconds
    if (s === '00' || s === '30') {
        setTimeout(loadData, 1000);
    }
}

function refreshData() {
    const icon = document.getElementById('refreshIcon');
    icon.classList.add('spin');
    setTimeout(() => icon.classList.remove('spin'), 500);
    loadData();
}

// Initialize
loadData();
setInterval(updateTime, 1000);
updateTime();
</script>
</body>
</html>
